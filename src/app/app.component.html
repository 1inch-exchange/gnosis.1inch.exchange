<ng-container *ngIf="(tokenService.tokenHelper$ | async); let tokenHelper">

  <div class="m-1" *ngIf="(sortedTokens | async); let tokens;">

    <button mat-icon-button aria-label="settings" (click)="toggleSlippage()">
      <mat-icon svgIcon="settings" [color]="displaySlippageSettings ? 'primary' : ''"></mat-icon>
    </button>

    <form class="example-form">
      <div class="swap-controls">

        <!--
        <div class="example-label">Flat</div>
        <div class="example-button-row">
          <button mat-flat-button>Basic</button>
          <button mat-flat-button color="primary">Primary</button>
          <button mat-flat-button color="accent">Accent</button>
          <button mat-flat-button color="warn">Warn</button>
          <button mat-flat-button disabled>Disabled</button>
          <a mat-flat-button href="https://www.google.com/" target="_blank">Link</a>
        </div>
        -->

        <ng-container *ngIf="tokenHelper.getTokenBySymbol(fromTokenSymbol); let fromToken">

          <div>
            <small>&nbsp;</small>
            <mat-form-field appearance="fill" class="w-100">
              <mat-label>From</mat-label>
              <mat-select [(value)]="fromTokenSymbol">
                <mat-option *ngFor="let token of tokens" [value]="token.symbol">
                  <img
                    class="m-t"
                    [src]="getTokenLogoImage(token.address)"
                    style="height: 16px; position: relative; top: 3px;"
                  >
                  <span>{{token.symbol}}<sup class="o-7">{{token.name}}</sup></span>
                  <p class="o-7">{{ token.formatedUSD }}</p>
                  <p class="o-7">{{ token.formatedTokenBalance }}</p>
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>


          <div class="t-left">
            <small class="w-100 t-center max-balance" style="color: rgba(0, 0, 0, 0.6);">
              Max: {{ tokenHelper.toPrecision(fromToken.formatedTokenBalance || '0', 12) }}
            </small>
            <mat-form-field appearance="fill" class="w-100">
              <mat-label>Amount</mat-label>
              <input matInput placeholder="Amount" [value]="fromAmount" class="mat-input-wrapper">
              <mat-hint *ngIf="fromToken.formatedUSD" align="end">≈ {{fromToken.formatedUSD}}</mat-hint>
            </mat-form-field>
          </div>

        </ng-container>

        <div class="content-center">
          <img *ngIf="loading" src="assets/loading.svg" width="50">
          <button *ngIf="!loading" mat-icon-button aria-label="settings" (click)="swapTokenPlaces()">
            <mat-icon svgIcon="swap"></mat-icon>
          </button>
        </div>

        <ng-container *ngIf="tokenHelper.getTokenBySymbol(toTokenSymbol); let toToken">

          <div>
            <small class="w-100">&nbsp;</small>
            <mat-form-field appearance="fill" class="w-100">
              <mat-label>Amount</mat-label>
              <input matInput placeholder="Amount" value="0.0001">
              <mat-hint *ngIf="toToken.formatedUSD" align="end">≈ {{toToken.formatedUSD}}</mat-hint>
              <!--              <mat-hint align="end">≈ $890.03 ( -11.07% ) ⚠️️</mat-hint>-->
            </mat-form-field>
          </div>

          <div>
            <small>&nbsp;</small>
            <mat-form-field appearance="fill" class="w-100">
              <mat-label>To</mat-label>
              <mat-select [(value)]="toTokenSymbol">
                <mat-option *ngFor="let token of tokens" [value]="token.symbol">
                  {{token.symbol}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

        </ng-container>

        <h4 *ngIf="!displaySlippageSettings" class="content-center col-span-all">Price slippage: {{slippage.toString()}}
          %</h4>
        <div *ngIf="displaySlippageSettings" class="content-center col-span-all m-t m-b">
          <oi-slippage-settings [(slippage)]="slippage"></oi-slippage-settings>
        </div>

        <div class="content-center col-span-all">
          <!--      <span class="t-center">some message</span>-->
          <button mat-flat-button color="primary">SWAP NOW</button>
        </div>

      </div>

    </form>

    <!--
        <button mat-flat-button>Basic</button>-->
    <!--
        <button mat-flat-button color="accent">Accent</button>
        <button mat-flat-button color="warn">Warn</button>
        <button mat-flat-button disabled>Disabled</button>
        <a mat-flat-button href="https://www.google.com/" target="_blank">Link</a>
        -->
  </div>
</ng-container>
